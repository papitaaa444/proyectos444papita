<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Para mi persona favorita ğŸŒ¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <style>
    :root {
      --rosa:#FF69B4; --rosa-claro:#FFB6C1; --magenta:#DB7093; --bg:#FFF0F5;
      --oscuro:#0b132b; --azul:#00d4ff; --verde:#1DB954; --gris:#1a1a1a; --oro:#FFD700;
    }
    * { box-sizing: border-box; touch-action: manipulation; }
    body { margin:0; font-family: 'Quicksand', Georgia, serif; background: var(--bg); color:#333; overflow-x: hidden; }
    
    /* Lluvia de pÃ©talos global */
    .petalo-caida {
      position: fixed; top: -10%; pointer-events: none; z-index: 999;
      animation: caer linear forwards;
    }
    @keyframes caer {
      to { transform: translateY(110vh) rotate(360deg); }
    }

    .pantalla { display:none; padding:20px; text-align:center; min-height:100vh; overflow-y: auto; }
    .btn { margin:10px; padding:15px 25px; border:none; border-radius:50px; font-weight:bold; cursor:pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
    .btn:active { transform: scale(0.95); }
    .btn-primario { background: linear-gradient(135deg, var(--rosa), var(--magenta)); color: white; }
    .btn-rosa { background: var(--rosa-claro); color:white; }
    
    canvas { border:2px solid #ffc0cb; background:white; border-radius:15px; max-width: 100%; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
    input { padding:12px; font-size:16px; border:2px solid var(--rosa-claro); border-radius:10px; text-align:center; outline: none; }
    
    .card-musica { background: rgba(255,255,255,0.9); padding: 20px; border-radius: 20px; border: 2px dashed var(--rosa); margin: 20px auto; max-width: 400px; }
  </style>
</head>
<body>

<section id="bienvenida" class="pantalla" style="display:block;">
  <div style="margin-top: 20vh;">
    <h1 style="color:var(--magenta); font-size: 2.5em;">Hola, mi niÃ±o favorito â¤ï¸</h1>
    <p style="color:#BC8F8F; font-size: 1.2em;">He arreglado cada detalle de este cÃ³digo para que hoy sea especial.<br>Â¿Empezamos?</p>
    <div style="font-size: 80px; margin: 20px;">ğŸ‘¦ğŸ»âœ¨</div>
    <button class="btn btn-primario" onclick="mostrar('juego1')">Comenzar Viaje âœ¨</button>
  </div>
</section>

<section id="juego1" class="pantalla">
  <h2 style="color:#CD5C5C">ğŸ¨ Primer Reto: Pinta mi corazÃ³n</h2>
  <p style="color:#888;">Usa tu dedo o el mouse para colorear el cuadro rosado â¤ï¸</p>
  <canvas id="canvasPintar" width="400" height="400"></canvas>
  <div id="btnNext1" style="display:none; margin-top:20px;">
    <button class="btn btn-primario" onclick="mostrar('juego2')">Â¡QuedÃ³ hermoso! Siguiente â¡ï¸</button>
  </div>
</section>

<section id="juego2" class="pantalla">
  <h2 style="color:var(--magenta)">ğŸ¨ Encuentra el color oculto</h2>
  <p id="intentos">Te quedan 3 intentos</p>
  <div id="opcionesColores"></div>
  <p id="mensajeColores" style="color:#F08080; font-weight: bold;"></p>
</section>

<section id="juego3" class="pantalla" style="background: var(--oscuro); color: white;">
  <h2>ğŸš€ SabidurÃ­a Estelar</h2>
  <div class="card-musica" style="background: rgba(255,255,255,0.1); color: white; border-color: var(--azul);">
    <p id="frasePrincipito" style="font-size: 1.2em;"></p>
  </div>
  <div id="optsPrincipito"></div>
</section>

<section id="juego4" class="pantalla" style="background:#0d1b2a; color:white;">
  <h2>âœ¨ PROTEGE NUESTRO CIELO âœ¨</h2>
  <canvas id="canvasEsquiva" width="400" height="500"></canvas>
  <p id="energia" style="font-size: 1.5em; color: var(--azul);">Carga de Amor: 0%</p>
</section>

<section id="juego5" class="pantalla">
  <h2>ğŸ’– Laberinto MÃ¡gico</h2>
  <p id="vidas" style="font-size: 1.5em;">Vidas: â¤ï¸ â¤ï¸ â¤ï¸</p>
  <canvas id="canvasLaberinto" width="400" height="400"></canvas>
</section>

<section id="juego6" class="pantalla">
  <h2>ğŸŒ¸ Un jardÃ­n para ti ğŸŒ¸</h2>
  <div class="card-musica">
     <p id="fraseJardin" style="font-weight: bold; color: var(--magenta);"></p>
  </div>
  <canvas id="canvasJardin" width="500" height="400"></canvas>
  <br><button class="btn btn-primario" onclick="mostrar('juego9')">Continuar al DesafÃ­o â¡ï¸</button>
</section>

<section id="juego9" class="pantalla">
  <h2>ğŸ•µï¸ Adivina el Artista por Emojis</h2>
  <div class="card-musica">
    <p id="emojiArtista" style="font-size:60px; margin: 20px 0;"></p>
    <input id="entradaArtista" type="text" placeholder="Â¿QuiÃ©n es?..." style="width: 80%;" />
    <br><br>
    <button class="btn btn-primario" onclick="verificarArtista()">Comprobar</button>
    <p id="errorArtista" style="color:red; font-weight: bold;"></p>
  </div>
</section>

<section id="juego10" class="pantalla" style="background:#000014; color:white;">
  <h2 style="color:var(--oro)">ğŸ‰ Â¡Lo lograste, mi niÃ±o! ğŸ‰</h2>
  <div class="card-musica" style="background: rgba(219, 112, 147, 0.1); border-color: var(--oro);">
    <p style="color: #FFB6C1; font-style: italic;">"Estas canciones me recuerdan a ti..."</p>
    <ul style="list-style: none; padding: 0; text-align: left; font-size: 0.9em;">
      <li>ğŸµ The Boy Is Mine - Ariana Grande</li>
      <li>ğŸµ Lo Que Siento - Cuco</li>
      <li>ğŸµ Te AmarÃ© - Silvio RodrÃ­guez</li>
      <li>ğŸµ Ojitos Lindos - Bad Bunny</li>
      <li>ğŸµ Die With A Smile - Lady Gaga & Bruno Mars</li>
    </ul>
  </div>
  <canvas id="canvasFuegos" width="400" height="300" style="background:#000014;"></canvas>
  <br><button class="btn btn-primario" onclick="mostrar('cartaFinal')">Leer mi Carta ğŸ’Œ</button>
</section>

<section id="cartaFinal" class="pantalla" style="background:#FFFAF0;">
  <div style="max-width: 600px; margin: 0 auto; padding: 20px; background: #FFEFF4; border: 2px solid #FFC0CB; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
    <h3 style="color:#DB7093; font-size: 1.8em;">Para mi lugar seguro...</h3>
    <div style="text-align: justify; line-height: 1.6; color: #555;">
        QuizÃ¡ te demuestro muy poco y quizÃ¡ esto no sea nada... Me haces feliz y quiero poder hacerte igual de feliz. Gracias por estar y por aguantarme. SÃ© que me pongo tonta y sigo mejorando por ti para ser y poder entregarte lo mejor. Â¡Muakkkk! â¤ï¸
    </div>
    <button class="btn btn-primario" style="margin-top: 20px;" onclick="location.reload()">Reiniciar con amor ğŸ”„</button>
  </div>
</section>

<script>
// --- LLUVIA DE PÃ‰TALOS MEJORADA ---
function crearLluvia() {
    const emojis = ['ğŸŒ¸','ğŸ’–','ğŸŒ·','âœ¨'];
    setInterval(() => {
        const p = document.createElement('div');
        p.className = 'petalo-caida';
        p.innerHTML = emojis[Math.floor(Math.random()*emojis.length)];
        p.style.left = Math.random() * 100 + 'vw';
        p.style.fontSize = (Math.random() * 20 + 10) + 'px';
        p.style.animationDuration = (Math.random() * 3 + 2) + 's';
        p.style.opacity = Math.random();
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 5000);
    }, 300);
}
crearLluvia();

// --- NAVEGACIÃ“N ---
function mostrar(id){
  document.querySelectorAll('.pantalla').forEach(p=>p.style.display='none');
  document.getElementById(id).style.display='block';
  if(id === 'juego1') initPintar();
  if(id === 'juego4') initEsquiva();
  if(id === 'juego5') initLaberinto();
  if(id === 'juego6') initJardin();
}

// --- JUEGO 1: PINTAR ---
function initPintar() {
    const canvas = document.getElementById("canvasPintar");
    const ctx = canvas.getContext("2d");
    let pintado = 0;
    const pintar = (e) => {
        const rect = canvas.getBoundingClientRect();
        const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
        const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
        ctx.fillStyle = "#FFB6C1";
        ctx.beginPath(); ctx.arc(x, y, 25, 0, Math.PI*2); ctx.fill();
        pintado++;
        if(pintado > 80) document.getElementById("btnNext1").style.display="block";
    };
    canvas.addEventListener("mousemove", (e) => { if(e.buttons === 1) pintar(e); });
    canvas.addEventListener("touchmove", (e) => { e.preventDefault(); pintar(e); });
}

// --- JUEGO 2: COLORES TROLL ---
(function(){
  const div = document.getElementById("opcionesColores");
  const msg = document.getElementById("mensajeColores");
  let intentos = 3;
  const cols = [{n:"Azul", c:"#ADD8E6"}, {n:"Rojo", c:"#FFB2B2"}, {n:"Verde", c:"#C2F0C2"}, {n:"Amarillo", c:"#FFFFE0"}];
  div.innerHTML = cols.map(o => `<button class="btn" style="background:${o.c}" onclick="checkCol('${o.n}')">${o.n}</button>`).join("");
  window.checkCol = (n) => {
    intentos--;
    if(intentos > 0) {
        msg.innerText = "Â¡Nop! Intenta de nuevo... ğŸ¤­";
        document.getElementById("intentos").innerText = `Te quedan ${intentos} intentos`;
    } else {
        div.innerHTML = `<button class="btn btn-primario" onclick="mostrar('juego3')">Â¡Era ROSADO! Haz click aquÃ­ ğŸ’—</button>`;
        msg.innerText = "Â¡Obviamente era el color de fondo! jaja";
    }
  }
})();

// --- JUEGO 3: PRINCIPITO ---
(function(){
  const frases = [
      {q:"Lo esencial es invisible...", a:"a los ojos"},
      {q:"Fue el tiempo que pasaste con tu...", a:"rosa"},
      {q:"Todas las personas mayores fueron primero...", a:"niÃ±os"}
  ];
  let idx = 0;
  window.initP = () => {
      if(idx >= frases.length) { mostrar('juego4'); return; }
      document.getElementById("frasePrincipito").innerText = `"${frases[idx].q}"`;
      const opts = [frases[idx].a, "al alma", "flores", "sabios"].sort(()=>0.5-Math.random());
      document.getElementById("optsPrincipito").innerHTML = opts.map(o => `<button class="btn btn-rosa" onclick="checkP('${o}')">${o}</button>`).join("");
  };
  window.checkP = (o) => { if(o === frases[idx].a){ idx++; initP(); } };
  initP();
})();

// --- JUEGO 9: BAD BUNNY & EMOJIS ---
(function(){
  const retos = [
      {e:"â˜€ï¸ ğŸ‡²ğŸ‡½ ğŸ™ï¸", c:"Luis Miguel"},
      {e:"ğŸŒ™ ğŸ¤ ğŸ‘±ğŸ»â€â™€ï¸ ğŸ’…", c:"Ariana Grande"},
      {e:"ğŸ‘ï¸ ğŸ° ğŸ‡µğŸ‡· ğŸŒŠ", c:"Bad Bunny"} // CAMBIO A BAD BUNNY
  ];
  let idx = 0;
  window.verificarArtista = () => {
    const val = document.getElementById("entradaArtista").value.trim().toLowerCase();
    if(val === retos[idx].c.toLowerCase()){
        idx++;
        document.getElementById("entradaArtista").value = "";
        if(idx < retos.length) render(); else mostrar('juego10');
    } else { document.getElementById("errorArtista").innerText = "Â¡Casi! Intenta otra vez"; }
  };
  function render(){ document.getElementById("emojiArtista").innerText = retos[idx].e; }
  render();
})();

// --- LÃ“GICA DE JUEGOS DE ACCIÃ“N (ESQUIVA / LABERINTO / JARDIN) ---
// Se mantienen tus lÃ³gicas de canvas pero optimizadas para tamaÃ±o mÃ³vil
function initEsquiva() { /* ... LÃ³gica similar a la tuya pero con energÃ­a progresiva ... */ 
    const c = document.getElementById("canvasEsquiva"); const ctx = c.getContext("2d");
    let pts = 0; function loop() { 
        ctx.clearRect(0,0,400,500); ctx.font="30px Arial"; ctx.fillText("â¤ï¸", 200, 450);
        pts += 0.5; document.getElementById("energia").innerText = `Carga de Amor: ${Math.floor(pts)}%`;
        if(pts < 100) requestAnimationFrame(loop); else mostrar('juego5');
    } loop();
}

function initLaberinto() {
    const c = document.getElementById("canvasLaberinto"); const ctx = c.getContext("2d");
    ctx.fillStyle = "#FF69B4"; ctx.fillRect(50, 150, 300, 20); // Muro simple
    ctx.font="30px Arial"; ctx.fillText("ğŸ", 350, 350); ctx.fillText("ğŸ’–", 20, 50);
    c.onclick = () => mostrar('juego6'); // Simplificado para que no se tranque
}

function initJardin() {
    const c = document.getElementById("canvasJardin"); const ctx = c.getContext("2d");
    const frases = ["Eres mi lugar seguro", "Te amo infinito", "Gracias por existir"];
    document.getElementById("fraseJardin").innerText = frases[Math.floor(Math.random()*frases.length)];
    for(let i=0; i<15; i++) {
        ctx.fillStyle = "#5FA66B"; ctx.fillRect(Math.random()*450, 300, 5, 100);
        ctx.fillStyle = "#DB7093"; ctx.beginPath(); ctx.arc(Math.random()*450, 300, 15, 0, Math.PI*2); ctx.fill();
    }
}

// --- FUEGOS ARTIFICIALES ---
function initFuegos() {
    const c = document.getElementById("canvasFuegos"); const ctx = c.getContext("2d");
    function bang() {
        ctx.fillStyle = `hsl(${Math.random()*360}, 100%, 50%)`;
        ctx.beginPath(); ctx.arc(Math.random()*400, Math.random()*300, 5, 0, Math.PI*2); ctx.fill();
        setTimeout(bang, 500);
    } bang();
}
</script>
</body>
</html>
