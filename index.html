<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>El Mundo de mi Ni√±o Favorito üå∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <style>
    :root {
      --rosa: #FF69B4; --rosa-fuerte: #C71585; --magenta: #DB7093; --bg: #FFF0F5;
      --oscuro: #0b132b; --azul: #00d4ff; --oro: #ffd700; --blanco: #ffffff;
    }
    * { box-sizing: border-box; touch-action: none; }
    body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); overflow-x: hidden; }

    /* Animaciones de Fondo */
    .petalo { position: fixed; color: var(--rosa); pointer-events: none; z-index: 999; animation: caida linear forwards; }
    @keyframes caida {
        0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
        100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }

    .pantalla { display: none; padding: 20px; text-align: center; min-height: 100vh; animation: fadeIn 0.8s ease; position: relative; }
    @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

    /* Botones y UI */
    .btn { margin: 15px; padding: 20px 35px; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; transition: 0.4s; 
           box-shadow: 0 10px 30px rgba(199, 21, 133, 0.3); font-size: 18px; text-transform: uppercase; letter-spacing: 1px; }
    .btn-primario { background: linear-gradient(45deg, var(--rosa), var(--rosa-fuerte)); color: white; border: 2px solid rgba(255,255,255,0.2); }
    .btn-primario:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(199, 21, 133, 0.5); }
    
    .btn-opcion { background: white; border: 3px solid var(--rosa-fuerte); color: var(--rosa-fuerte); width: 90%; max-width: 400px; margin: 12px auto; display: block; }
    .btn-opcion:active { background: var(--rosa-fuerte); color: white; }

    canvas { border: 10px solid white; border-radius: 40px; max-width: 100%; background: white; box-shadow: 0 25px 60px rgba(0,0,0,0.15); display: block; margin: 20px auto; }
    .card { background: rgba(255, 255, 255, 0.9); padding: 30px; border-radius: 40px; border: 3px dashed var(--rosa-fuerte); margin: 20px auto; max-width: 600px; backdrop-filter: blur(5px); }
    input { padding: 15px; border-radius: 20px; border: 2px solid var(--rosa); width: 80%; margin: 10px; font-size: 18px; text-align: center; }
    
    .frase-pantalla { font-style: italic; color: var(--rosa-fuerte); margin-bottom: 20px; font-size: 1.3em; font-weight: 500; text-shadow: 1px 1px 2px rgba(0,0,0,0.05); }
    
    .overlay-logrado { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 1000; color: white; }
  </style>
</head>
<body>

<section id="bienvenida" class="pantalla" style="display:block;">
  <div style="margin-top: 10vh;">
    <h1 style="color:var(--rosa-fuerte); font-size: 3.5em; margin-bottom: 10px;">¬°Hola, mi ni√±o!</h1>
    <p class="frase-pantalla">"He preparado un viaje especial solo para ti..."</p>
    <div style="font-size:150px;">‚ú®üíù‚ú®</div>
    <button class="btn btn-primario" onclick="mostrar('juego_intro')">Entrar a mi coraz√≥n ‚û°Ô∏è</button>
  </div>
</section>

<section id="juego_intro" class="pantalla">
  <h2 style="color:var(--rosa-fuerte)">Toca el cielo...</h2>
  <p class="frase-pantalla">¬°Mueve tu dedo para que caigan p√©talos de amor!</p>
  <div id="zona_petalos" style="width:100%; height:300px; border: 4px dashed var(--rosa); border-radius: 30px; margin: 20px 0; display: flex; align-items: center; justify-content: center; font-size: 50px;">üå∏‚ú®üçÉ</div>
  <button class="btn btn-primario" onclick="mostrar('juego1')">Continuar aventura ‚ú®</button>
</section>

<section id="juego1" class="pantalla">
  <h2 style="color:var(--rosa-fuerte)">Adivina el coraz√≥n...</h2>
  <p class="frase-pantalla">Atrapa los 5 corazones üíó brillantes.</p>
  <canvas id="canvasCorazones" width="600" height="450"></canvas>
  <h2 id="puntos" style="color:var(--rosa-fuerte); font-size: 2em;">üíó: 0/5</h2>
  <div id="logrado1" class="overlay-logrado">
    <h1>¬°INCRE√çBLE!</h1>
    <button class="btn btn-primario" onclick="mostrar('juego2')">Siguiente nivel ‚û°Ô∏è</button>
  </div>
</section>

<section id="juego2" class="pantalla">
  <h2 style="color:var(--rosa-fuerte)">üé® El Color Prohibido</h2>
  <div class="card">
    <p class="frase-pantalla">¬øDe qu√© color es nuestro amor invisible?</p>
    <div id="opcionesCol"></div>
    <p id="intentos">Intentos: 3</p>
    <p id="mensajeCol"></p>
  </div>
</section>

<section id="juego3" class="pantalla" style="background: radial-gradient(circle, #1b2735 0%, #090a0f 100%); color: white;">
  <h2 style="color:var(--azul)">üåå Le Petit Prince</h2>
  <div class="card" style="background: rgba(255,255,255,0.1); color:white;"><p id="fraseP"></p></div>
  <div id="opcionesP"></div>
</section>

<section id="juego4" class="pantalla" style="background:#001d3d; color:white;">
  <h2>‚ö° TORMENTA DE AMOR</h2>
  <p class="frase-pantalla" style="color:var(--azul)">¬°Esquiva los rayos!</p>
  <canvas id="canvasEsquiva" width="600" height="450"></canvas>
  <h3 id="energia">Escudo: 0%</h3>
  <h3 id="vidasCielo">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</h3>
</section>

<section id="juego5" class="pantalla">
  <h2 style="color:var(--rosa-fuerte)">üåÄ Laberinto El√©ctrico</h2>
  <h3 id="vidasLab">Vidas: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</h3>
  <canvas id="canvasLaberinto" width="600" height="750"></canvas>
</section>

<section id="juego6" class="pantalla">
  <h2 style="color:var(--rosa-fuerte)">üå∏ Jard√≠n de Tulipanes</h2>
  <canvas id="canvasJardin" width="800" height="600"></canvas>
  <button class="btn btn-primario" onclick="mostrar('juego7')">Continuar ‚û°Ô∏è</button>
</section>

<section id="juego7" class="pantalla">
  <h2 style="color:var(--rosa-fuerte)">üèÜ Desaf√≠o Mental</h2>
  <div class="card"><p id="pregT" style="font-weight:bold; font-size:1.2em;"></p></div>
  <div id="optsT"></div>
</section>

<section id="juego8" class="pantalla">
  <h2 style="color:var(--rosa-fuerte)">üé§ Completa la Canci√≥n</h2>
  <div class="card">
    <p id="titL" style="font-size:0.8em; color:gray;"></p>
    <p id="fraseL" style="font-size:1.3em; font-weight:bold;"></p>
  </div>
  <div id="optsL"></div>
</section>

<section id="juego9" class="pantalla">
  <h2 style="color:var(--rosa-fuerte)">üïµÔ∏è Adivina el Artista</h2>
  <div class="card">
    <p id="emojiA" style="font-size:80px;"></p>
    <input type="text" id="inA" placeholder="Nombre del artista...">
    <button class="btn btn-primario" onclick="checkA()">Verificar</button>
  </div>
</section>

<section id="juego10" class="pantalla" style="background:#000814; color:white;">
  <h2 style="color:var(--oro)">¬°LO LOGRASTE! üéá</h2>
  <canvas id="canvasFuegos" width="800" height="500"></canvas>
  <button class="btn btn-primario" onclick="mostrar('cartaFinal')">Leer mi Carta üíå</button>
</section>

<section id="cartaFinal" class="pantalla">
  <canvas id="canvasCarta" style="position:fixed; top:0; left:0; pointer-events:none;"></canvas>
  <div class="card" style="position:relative; z-index:10; text-align:justify; line-height:1.6;">
    <h3 style="color:var(--rosa-fuerte)">Para mi ni√±o...</h3>
    <p>Quiz√° te demuestro muy poco y quiz√° esto no sea nada o, si lo es, no sea suficiente. No es que no quiera expresar o mostrar todo lo que siento... Me haces feliz y quiero poder hacerte igual de feliz. Gracias por estar y por aguantarme. S√© que me pongo tonta y sigo mejorando por ti para ser y poder entregarte lo mejor. ¬°Muakkkk! ‚ù§Ô∏è</p>
    <button class="btn btn-primario" onclick="location.reload()">Empezar de nuevo</button>
  </div>
</section>

<script>
// --- L√ìGICA CORE ---
function mostrar(id){
    document.querySelectorAll('.pantalla').forEach(p => p.style.display = 'none');
    document.getElementById(id).style.display = 'block';
    window.scrollTo(0,0);
    if(id === 'juego1') initCorazones();
}

function getPos(e, cvs) {
    const r = cvs.getBoundingClientRect();
    const cx = e.touches ? e.touches[0].clientX : e.clientX;
    const cy = e.touches ? e.touches[0].clientY : e.clientY;
    return { x: (cx - r.left) * (cvs.width / r.width), y: (cy - r.top) * (cvs.height / r.height) };
}

// --- P√âTALOS ---
document.addEventListener('pointermove', (e) => {
    if(Math.random() > 0.94) {
        const p = document.createElement('div');
        p.className = 'petalo';
        p.style.left = e.clientX + 'px'; p.style.top = e.clientY + 'px';
        p.innerText = ['üå∏','‚ú®','üíñ'][Math.floor(Math.random()*3)];
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 3000);
    }
});

// --- JUEGOS ---
function initCorazones() {
    const cvs = document.getElementById('canvasCorazones'), ctx = cvs.getContext('2d');
    let pts = 0, items = [];
    for(let i=0; i<35; i++) items.push({ x: Math.random()*540+30, y: Math.random()*390+30, t: Math.random()<0.15?'üíó':'‚ù§Ô∏è', viva: true, s: Math.random()*10+35 });
    function draw() {
        ctx.clearRect(0,0,600,450);
        items.forEach(it => { if(it.viva){ ctx.font=it.s+"px Arial"; ctx.fillText(it.t, it.x, it.y); }});
        if(pts < 5) requestAnimationFrame(draw);
    }
    cvs.onpointerdown = (e) => {
        const p = getPos(e, cvs);
        items.forEach(it => { if(it.viva && Math.hypot(it.x-p.x, it.y-p.y)<40){ it.viva=false; if(it.t==='üíó'){ pts++; document.getElementById('puntos').innerText=`üíó: ${pts}/5`; if(pts>=5)document.getElementById('logrado1').style.display='flex'; } }});
    };
    draw();
}

// --- COLOR ---
(function(){
    let tri = 3;
    const cols = [{n:"Azul",c:"#0000FF"},{n:"Rosa",c:"#FF69B4"},{n:"Verde",c:"#00FF00"}];
    window.selectCol = (btn) => {
        tri--; if(tri<=0){ 
            document.getElementById('mensajeCol').innerText = "¬°Nuestro color es √∫nico!";
            document.getElementById('opcionesCol').innerHTML = `<button class="btn btn-primario" onclick="mostrar('juego3')">Avanzar ‚û°Ô∏è</button>`;
        } else { document.getElementById('intentos').innerText = `Intentos: ${tri}`; }
    }
    document.getElementById('opcionesCol').innerHTML = cols.map(c => `<button class="btn btn-opcion" onclick="selectCol(this)">${c.n}</button>`).join('');
})();

// --- PRINCIPITO ---
(function(){
    const f = [{q:"Lo esencial es invisible...", a:"a los ojos"},{q:"Tu rosa es importante por...", a:"el tiempo que le diste"}];
    let c = 0;
    window.checkP = (a) => { if(a===f[c].a){ c++; if(c<f.length) render(); else mostrar('juego4'); } }
    function render(){
        document.getElementById('fraseP').innerText = f[c].q;
        let ops = [f[c].a, "al alma", "el dinero"].sort(()=>Math.random()-0.5);
        document.getElementById('opcionesP').innerHTML = ops.map(o => `<button class="btn btn-opcion" onclick="checkP('${o}')">${o}</button>`).join('');
    }
    render();
})();

// --- CIELO (DIFICULTAD EXTREMA) ---
(function(){
    const cvs = document.getElementById('canvasEsquiva'), ctx = cvs.getContext('2d');
    let ship = {x:300, y:380}, shield = 0, bolts = [], lives = 3, active = false;
    cvs.onpointermove = (e) => { if(active){ const p = getPos(e, cvs); ship.x = p.x; ship.y = p.y; } };
    function loop(){
        if(!active) return;
        ctx.fillStyle = "#001d3d"; ctx.fillRect(0,0,600,450);
        ctx.font = "50px Arial"; ctx.fillText("üíñ", ship.x-25, ship.y+20);
        if(Math.random() < 0.3) bolts.push({x: Math.random()*600, y: -20, v: 12 + Math.random()*10});
        bolts.forEach((b, i) => {
            ctx.fillText("‚ö°", b.x, b.y); b.y += b.v;
            if(Math.hypot(b.x-ship.x, b.y-ship.y) < 45) { lives--; bolts.splice(i, 1); document.getElementById('vidasCielo').innerText = "‚ù§Ô∏è".repeat(lives); if(lives <= 0) { lives=3; shield=0; } }
        });
        shield += 0.25; document.getElementById('energia').innerText = `Escudo: ${Math.floor(Math.min(100, shield))}%`;
        if(shield >= 100) { active = false; mostrar('juego5'); } else requestAnimationFrame(loop);
    }
    const ob = new MutationObserver(() => { if(document.getElementById('juego4').style.display === 'block' && !active) { active=true; loop(); } });
    ob.observe(document.body, {attributes:true, subtree:true});
})();

// --- LABERINTO ---
(function(){
    const cvs = document.getElementById('canvasLaberinto'), ctx = cvs.getContext('2d');
    let pos = {x:30, y:30}, lives = 3, active = false;
    let walls = [{x: 0, y: 150, w: 400, h: 35, s: 12},{x: 200, y: 350, w: 400, h: 35, s: -15},{x: 0, y: 550, w: 450, h: 35, s: 18}];
    cvs.onpointermove = (e) => { if(active){ const p = getPos(e, cvs); pos.x = p.x; pos.y = p.y; } };
    function loop(){
        if(!active) return;
        ctx.clearRect(0,0,600,750); ctx.fillStyle = "#C71585";
        ctx.beginPath(); ctx.arc(550, 700, 35, 0, 7); ctx.fill(); // Meta
        walls.forEach(w => {
            w.w += w.s; if(w.w > 580 || w.w < 40) w.s *= -1;
            ctx.fillRect(w.x, w.y, w.w, w.h);
            if(pos.x > w.x && pos.x < w.x+w.w && pos.y > w.y && pos.y < w.y+w.h) { lives--; pos = {x:30, y:30}; document.getElementById('vidasLab').innerText = "Vidas: " + "‚ù§Ô∏è".repeat(lives); if(lives <= 0) { lives=3; pos={x:30,y:30}; } }
        });
        ctx.font = "40px Arial"; ctx.fillText("üë¶üèª", pos.x-20, pos.y+20);
        if(pos.x > 500 && pos.y > 650) { active = false; mostrar('juego6'); } else requestAnimationFrame(loop);
    }
    const ob = new MutationObserver(() => { if(document.getElementById('juego5').style.display === 'block' && !active) { active=true; loop(); } });
    ob.observe(document.body, {attributes:true, subtree:true});
})();

// --- JARD√çN ---
(function(){
    const cvs = document.getElementById('canvasJardin'), ctx = cvs.getContext('2d');
    let fls = []; const colors = ["#FF69B4", "#FF1493", "#DA70D6"];
    for(let i=0; i<15; i++) fls.push({x: 50+i*50, y: 520, c: colors[i%3], h: 0});
    function loop(){
        ctx.fillStyle = "#FFF0F5"; ctx.fillRect(0,0,800,600);
        ctx.fillStyle = "#74c69d"; ctx.fillRect(0, 500, 800, 100);
        fls.forEach(f => {
            if(f.h < 100) f.h += 0.5;
            ctx.strokeStyle = "#2d6a4f"; ctx.lineWidth = 4;
            ctx.beginPath(); ctx.moveTo(f.x, f.y); ctx.quadraticCurveTo(f.x-10, f.y-f.h/2, f.x, f.y-f.h); ctx.stroke();
            ctx.fillStyle = f.c; ctx.beginPath(); ctx.ellipse(f.x, f.y-f.h-15, 15, 25, 0, 0, 7); ctx.fill();
        });
        requestAnimationFrame(loop);
    }
    const ob = new MutationObserver(() => { if(document.getElementById('juego6').style.display === 'block') loop(); });
    ob.observe(document.body, {attributes:true, subtree:true});
})();

// --- TRIVIA, CANCIONES, EMOJIS ---
(function(){
    const t = [{p:"¬øPlaneta m√°s cercano al Sol?", a:"Mercurio"},{p:"¬øQui√©n pint√≥ la Mona Lisa?", a:"Leonardo da Vinci"},{p:"¬øPa√≠s de la Gran Muralla?", a:"China"}];
    let i=0; window.ansT = (a) => { if(a===t[i].a){ i++; if(i<t.length) r(); else mostrar('juego8'); } };
    function r(){ document.getElementById('pregT').innerText=t[i].p; let o=[t[i].a,"Venus","Picasso"].sort(()=>Math.random()-0.5); document.getElementById('optsT').innerHTML=o.map(it=>`<button class="btn btn-opcion" onclick="ansT('${it}')">${it}</button>`).join(''); } r();
    
    const s = [{t:"Ariana Grande", f:"Can you stay up all night?...", a:"til the daylight"},{t:"Bad Bunny", f:"Tit√≠ me pregunt√≥ si tengo...", a:"muchas novias"}];
    let si=0; window.ansS = (a) => { if(a===s[si].a){ si++; if(si<s.length) rs(); else mostrar('juego9'); } };
    function rs(){ document.getElementById('titL').innerText=s[si].t; document.getElementById('fraseL').innerText=s[si].f; let o=[s[si].a,"forever","pocas novias"].sort(()=>Math.random()-0.5); document.getElementById('optsL').innerHTML=o.map(it=>`<button class="btn btn-opcion" onclick="ansS('${it}')">${it}</button>`).join(''); } rs();
    
    const e = [{p:"üê∞ üëÅÔ∏è üáµüá∑", a:"bad bunny"},{p:"üåô üé§ üéÄ", a:"ariana grande"}];
    let ei=0; window.checkA = () => { if(document.getElementById('inA').value.toLowerCase().includes(e[ei].a)){ ei++; if(ei<e.length) re(); else mostrar('juego10'); } };
    function re(){ document.getElementById('emojiA').innerText=e[ei].p; document.getElementById('inA').value=""; } re();
})();

// --- FINAL ---
(function(){
    const cvs = document.getElementById('canvasFuegos'), ctx = cvs.getContext('2d');
    let p = [];
    function anim() {
        ctx.fillStyle = "rgba(0,8,20,0.2)"; ctx.fillRect(0,0,800,500);
        if(Math.random()<0.1){ let x=Math.random()*800, y=Math.random()*200, c=`hsl(${Math.random()*360},100%,60%)`; for(let j=0; j<50; j++) p.push({x,y,vx:Math.random()*6-3, vy:Math.random()*6-3, l:80, c}); }
        p.forEach((it, idx) => { ctx.fillStyle=it.c; ctx.fillRect(it.x,it.y,3,3); it.x+=it.vx; it.y+=it.vy; it.vy+=0.05; it.l--; if(it.l<=0) p.splice(idx,1); });
        requestAnimationFrame(anim);
    }
    const ob = new MutationObserver(() => { if(document.getElementById('juego10').style.display === 'block') anim(); });
    ob.observe(document.body, {attributes:true, subtree:true});
})();
</script>
</body>
</html>
