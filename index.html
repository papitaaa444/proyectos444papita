<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Un regalo para ti üå∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <style>
    :root {
      --rosa: #FF69B4; --rosa-claro: #FFB6C1; --magenta: #DB7093; --bg: #FFF0F5;
      --oscuro: #0b132b; --azul: #00d4ff; --verde: #1DB954; --pasto: #90EE90;
    }
    * { box-sizing: border-box; touch-action: manipulation; }
    body { margin: 0; font-family: 'Georgia', serif; background: var(--bg); color: #333; overflow-x: hidden; }
    
    .pantalla { display: none; padding: 20px; text-align: center; min-height: 100vh; animation: fadeIn 0.5s; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    
    /* Botones m√°s bonitos */
    .btn { margin: 8px; padding: 14px 22px; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid transparent; }
    .btn:hover { transform: scale(1.05); filter: brightness(1.1); }
    .btn-primario { background: var(--rosa); color: white; }
    .btn-rosa { background: var(--rosa-claro); color: white; }
    .btn-azul { background: var(--oscuro); color: var(--azul); border-color: var(--azul); }
    
    canvas { border: 4px solid #FFC0CB; border-radius: 20px; max-width: 100%; background: white; touch-action: none; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
    
    .card { background: white; padding: 25px; border-radius: 25px; border: 2px dashed var(--rosa); margin: 20px auto; max-width: 500px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    input { padding: 15px; font-size: 16px; border: 2px solid var(--rosa-claro); border-radius: 15px; text-align: center; width: 80%; margin-bottom: 10px; outline: none; }
    
    /* Scrollbar bonita */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-thumb { background: var(--rosa-claro); border-radius: 10px; }
  </style>
</head>
<body>

<section id="bienvenida" class="pantalla" style="display:block;">
  <h1 style="color:var(--magenta); margin-top:60px; font-size: 2.5em;">Para mi ni√±a favorita</h1>
  <p style="color:#BC8F8F; font-size:1.2em;">He preparado este rinc√≥n interactivo para ti.<br>¬øEst√°s lista para jugar?</p>
  <div style="font-size:70px; margin:40px;">üå∏‚ú®üíñ</div>
  <button class="btn btn-rosa" onclick="mostrar('juego1')">¬°Empezar ahora! ‚ú®</button>
</section>

<section id="juego1" class="pantalla">
  <div id="ronda1">
    <h3>Ronda 1: Un besito ‚ù§Ô∏è</h3>
    <canvas id="canvasR1" width="600" height="260"></canvas>
    <br><button class="btn btn-rosa" onclick="pasarRonda(1)">Siguiente ‚û°Ô∏è</button>
  </div>
  <div id="ronda2" style="display:none;">
    <h3>Ronda 2: Un abrazo üíú</h3>
    <canvas id="canvasR2" width="600" height="260"></canvas>
    <br><button class="btn btn-rosa" onclick="pasarRonda(2)">Siguiente ‚û°Ô∏è</button>
  </div>
  <div id="ronda3" style="display:none;">
    <h3>Busca 5 corazones rosados üíó</h3>
    <p>¬°Dale click solo a los de color rosado!</p>
    <canvas id="canvasCorazones" width="600" height="350"></canvas>
    <h3 id="puntos" style="color:var(--magenta)">Puntos: 0/5</h3>
    <button id="btnNext1" class="btn btn-primario" style="display:none;" onclick="mostrar('juego2')">¬°Excelente! Siguiente ‚û°Ô∏è</button>
  </div>
</section>

<section id="juego2" class="pantalla">
  <h2 style="color:var(--magenta)">üé® Encuentra el color oculto</h2>
  <div class="card">
    <p id="intentos">Te quedan 3 intentos</p>
    <div id="opcionesCol"></div>
    <p id="mensajeCol" style="color:#F08080; font-weight: bold; margin-top: 15px;"></p>
  </div>
</section>

<section id="juego3" class="pantalla" style="background:var(--oscuro); color:white;">
  <h2 style="color:var(--azul)">üöÄ Viaje Estelar</h2>
  <div class="card" style="background:rgba(255,255,255,0.05); border-color:var(--azul); color:white;">
    <p id="fraseP" style="font-size:1.3em; line-height: 1.6;"></p>
  </div>
  <div id="opcionesP"></div>
  <p id="estadoP" style="margin-top:20px; color: var(--azul);"></p>
</section>

<section id="juego4" class="pantalla" style="background:#0d1b2a; color:white;">
  <h2>‚ú® PROTEGE NUESTRO CIELO ‚ú®</h2>
  <p>Mueve el coraz√≥n para esquivar los rayos</p>
  <canvas id="canvasEsquiva" width="600" height="450"></canvas>
  <h2 id="energia" style="color:var(--azul);">Amor: 0%</h2>
</section>

<section id="juego5" class="pantalla">
  <h2>‚ö° Laberinto de M√°xima Dificultad üíñ</h2>
  <p id="vidasLab" style="font-size: 1.5em;">Vidas: ‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è</p>
  <canvas id="canvasLaberinto" width="600" height="700"></canvas>
  <p>Llega al c√≠rculo fucsia abajo a la derecha</p>
</section>

<section id="juego6" class="pantalla">
  <h2 style="color:#DB7093">üå∏ Mi Jard√≠n de Paz üå∏</h2>
  <canvas id="canvasJardin" width="800" height="600"></canvas>
  <p style="font-style:italic; color:#DB7093; margin-top:15px; font-size: 1.2em;">"Eres la flor m√°s bella de mi mundo."</p>
  <button class="btn btn-primario" onclick="mostrar('juego7')">Continuar el viaje ‚û°Ô∏è</button>
</section>

<section id="juego7" class="pantalla">
  <h2 style="color:var(--magenta)">‚ú®üèÜ‚ú® Trivia de Sabidur√≠a</h2>
  <div class="card">
    <p id="pregT" style="font-size:1.3em; color:#333; font-weight: bold;"></p>
  </div>
  <div id="optsT"></div>
</section>

<section id="juego8" class="pantalla">
  <h2>üé§ El Reto del Micr√≥fono</h2>
  <p>Completa la letra correctamente:</p>
  <div class="card">
    <p id="titL" style="color:#888; font-size: 0.9em;"></p>
    <p id="fraseL" style="font-weight:bold; font-size:1.4em; color:var(--magenta);"></p>
  </div>
  <div id="optsL"></div>
</section>

<section id="juego9" class="pantalla">
  <h2>üïµÔ∏è Adivina el Artista con Emojis</h2>
  <div class="card">
    <p id="emojiA" style="font-size:80px; margin: 20px 0;"></p>
    <input id="inA" type="text" placeholder="Nombre del artista..." />
    <br><button class="btn btn-primario" onclick="checkA()">Verificar üîç</button>
  </div>
</section>

<section id="juego10" class="pantalla" style="background:#000014; color:white;">
  <h2 style="color:gold; font-size:2.5em;">üéâ ¬°ERES PERFECTA! üéâ</h2>
  <div class="card" style="background:rgba(255,105,180,0.1); border-color:var(--rosa); color:white;">
    <p style="font-weight:bold; color:var(--rosa-claro);">üé∂ Tus canciones favoritas:</p>
    <p>1. The Boy Is Mine - Ariana <br> 2. Gata Only - Cris MJ <br> 3. Tit√≠ Me Pregunt√≥ - Bad Bunny <br> 4. 34+35 - Ariana <br> 5. Lo Que Siento - Cuco</p>
  </div>
  <canvas id="canvasFuegos" width="800" height="500"></canvas>
  <br><button class="btn btn-rosa" onclick="mostrar('cartaFinal')">Leer mi Carta üíå</button>
</section>

<section id="cartaFinal" class="pantalla">
  <canvas id="canvasCarta" style="position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1;"></canvas>
  <div style="position:relative; z-index:2; background:#FFEFF4; border:3px solid #FFC0CB; border-radius:30px; padding:35px; max-width:600px; margin:20px auto; box-shadow:0 15px 50px rgba(0,0,0,0.1);">
    <h3 style="color:#DB7093; font-size: 1.8em;">Para ti, con todo mi amor...</h3>
    <div style="text-align:justify; font-size:17px; line-height:1.9; color:#444; max-height:450px; overflow-y:auto; padding-right:15px;" id="cartaTxt">
      Quiz√° te demuestro muy poco y quiz√° esto no sea nada o, si lo es, no sea suficiente. No es que no quiera expresar o mostrar todo lo que siento. Realmente, hay muchas cosas que siento y que quisiera expresar, pero creo que de verdad me quedo corta, jajaja, ir√≥nico ¬øcierto? Haciendo esto cayeron varias de mis l√°grimas, no lo voy a negar. Muchas cosas me asustan y, entre esas, que me destrocen, porque una vez ya llegu√© a eso. Al menos, si llego a caer ah√≠ otra vez, que no sea por ti, por favor. Quiero algo bonito e igual siento que quiz√° si no funciona pueda ser porque soy yo el problema. Siendo as√≠, te pido disculpas, quiz√° por el miedo a llorar me limit√© a ciertas cosas. Bueno, pero quiero que sepas que hay muchos sentimientos, muchas emociones que me haces sentir. Me haces feliz y quiero poder hacerte igual de feliz. Gracias por estar y por aguantarme. S√© que me pongo tonta y sigo mejorando por ti para ser y poder entregarte lo mejor. ¬°Muakkkk!
    </div>
    <button class="btn btn-primario" style="margin-top:25px;" onclick="location.reload()">Terminar con un Beso üíã</button>
  </div>
</section>

<script>
// --- MOTOR NAVEGACI√ìN ---
function mostrar(id){
  document.querySelectorAll('.pantalla').forEach(p=>p.style.display='none');
  document.getElementById(id).style.display='block';
  window.scrollTo(0,0);
}
function getPos(e, cvs) {
  const r = cvs.getBoundingClientRect();
  const cx = e.touches ? e.touches[0].clientX : e.clientX;
  const cy = e.touches ? e.touches[0].clientY : e.clientY;
  return { x: (cx-r.left)*(cvs.width/r.width), y: (cy-r.top)*(cvs.height/r.height) };
}

// --- JUEGO 1: CORAZONES ---
function pasarRonda(n){ document.getElementById("ronda"+n).style.display="none"; document.getElementById("ronda"+(n+1)).style.display="block"; }
const setupHuye = (id, em) => {
  const cvs = document.getElementById(id), ctx = cvs.getContext("2d");
  let p = {x:300, y:130};
  const d = () => { ctx.clearRect(0,0,cvs.width,cvs.height); ctx.font="60px Arial"; ctx.fillText(em, p.x-30, p.y+20); };
  cvs.addEventListener("touchstart", (e)=>{
    e.preventDefault(); const pos = getPos(e, cvs);
    if(Math.hypot(pos.x-p.x, pos.y-p.y) < 80) { p.x = Math.random()*500+50; p.y = Math.random()*180+50; d(); }
  });
  d();
};
setupHuye("canvasR1", "‚ù§Ô∏è"); setupHuye("canvasR2", "üíú");

(function(){
  const cvs = document.getElementById("canvasCorazones"), ctx = cvs.getContext("2d");
  let pts = 0, items = [];
  function spawn(){
    if(pts>=5) return;
    if(items.length < 8) items.push({x:Math.random()*540+30, y:Math.random()*300+30, t:["‚ù§Ô∏è","üíú","üíó","üå∏"][(Math.random()*4)|0], s:Math.random()*10+30});
    ctx.clearRect(0,0,cvs.width,cvs.height);
    items.forEach(i=>{ ctx.font=i.s+"px Arial"; ctx.fillText(i.t, i.x, i.y); });
    setTimeout(spawn, 300);
  }
  cvs.addEventListener("touchstart", (e)=>{
    e.preventDefault(); const pos = getPos(e, cvs);
    items.forEach((it, idx)=>{
      if(Math.hypot(pos.x-it.x-15, pos.y-it.y+15)<50 && it.t==="üíó"){
        pts++; items.splice(idx,1);
        document.getElementById("puntos").innerText = `Puntos: ${pts}/5`;
        if(pts>=5) document.getElementById("btnNext1").style.display="inline-block";
      }
    });
  });
  const ob = new MutationObserver(()=>{ if(document.getElementById("ronda3").style.display==="block") spawn(); });
  ob.observe(document.body, {attributes:true, subtree:true});
})();

// --- JUEGO 2: COLORES TROLL ---
(function(){
  let ints = 3;
  window.checkCol = (n) => {
    ints--;
    if(ints>0) document.getElementById("mensajeCol").innerText = "¬°No es ese! Intenta de nuevo... üßê";
    else {
      document.getElementById("mensajeCol").innerText = "¬°Se acabaron los intentos!";
      document.getElementById("opcionesCol").innerHTML = `<button class="btn btn-rosa" onclick="mostrar('juego3')">Tap aqu√≠, era el color de fondo ü§°</button>`;
    }
  };
  const ops = [{n:"Azul", c:"#ADD8E6"}, {n:"Rojo", c:"#FFB2B2"}, {n:"Verde", c:"#C2F0C2"}, {n:"Amarillo", c:"#FFFFE0"}];
  document.getElementById("opcionesCol").innerHTML = ops.map(o=>`<button class="btn" style="background:${o.c}" onclick="checkCol()">${o.n}</button>`).join("");
})();

// --- JUEGO 3: PRINCIPITO (4 OPCIONES + 1 FRASE EXTRA) ---
(function(){
  const frases = [
    {q:"Lo esencial es invisible...", a:"a los ojos", o:["al coraz√≥n","a la mente","al alma"]},
    {q:"Fue el tiempo que pasaste con tu...", a:"rosa", o:["planeta","zorro","estrella"]},
    {q:"Si vienes a las cuatro de la tarde...", a:"empezar√© a ser feliz", o:["estar√© listo","tendr√© miedo","te ver√©"]},
    {q:"Es una locura odiar a todas las rosas porque...", a:"una te pinch√≥", o:["tienen espinas","se marchitan","no son tuyas"]}
  ];
  let i = 0;
  window.checkP = (a)=>{ if(a===frases[i].a){ i++; rdr(); } else { document.getElementById("estadoP").innerText="‚ùå ¬°Vuelve a intentar!"; } };
  function rdr(){
    if(i>=frases.length){ document.getElementById("juego3").innerHTML = `<button class="btn btn-azul" onclick="mostrar('juego4')">Continuar Viaje üöÄ</button>`; return; }
    document.getElementById("fraseP").innerText = `"${frases[i].q}"`;
    const opts = [...frases[i].o, frases[i].a].sort(()=>Math.random()-0.5);
    document.getElementById("opcionesP").innerHTML = opts.map(o=>`<button class="btn btn-azul" style="display:block; width:90%; margin:10px auto;" onclick="checkP('${o}')">${o}</button>`).join("");
  }
  rdr();
})();

// --- JUEGO 4: CIELO ---
(function(){
  const cvs = document.getElementById("canvasEsquiva"), ctx = cvs.getContext("2d");
  let cor = {x:300, y:350}, p = 0, act = false, obs = [];
  cvs.addEventListener("touchmove", (e)=>{ e.preventDefault(); const pos = getPos(e, cvs); cor.x = pos.x; cor.y = pos.y; });
  function loop(){
    if(!act) return;
    ctx.clearRect(0,0,600,450); ctx.font="40px Arial"; ctx.fillText("‚ù§Ô∏è", cor.x-20, cor.y);
    if(Math.random()<0.12) obs.push({x:Math.random()*600, y:-30, v:7});
    obs.forEach(o=>{ ctx.fillText("‚ö°", o.x, o.y); o.y+=o.v; if(Math.hypot(cor.x-o.x, cor.y-o.y)<35) p=Math.max(0, p-6); });
    p+=0.35; document.getElementById("energia").innerText = `Amor: ${Math.floor(Math.min(100,p))}%`;
    if(p>=100) { act=false; mostrar('juego5'); } else requestAnimationFrame(loop);
  }
  const ob = new MutationObserver(()=>{ if(document.getElementById("juego4").style.display==="block" && !act){ act=true; loop(); } });
  ob.observe(document.body, {attributes:true, subtree:true});
})();

// --- JUEGO 5: LABERINTO DIF√çCIL ---
(function(){
  const cvs = document.getElementById("canvasLaberinto"), ctx = cvs.getContext("2d");
  let jug = {x:30, y:30}, vds = 3, act = false, rayos = [];
  let muros = [{x:0, y:140, w:450, d:4}, {x:150, y:280, w:450, d:-4}, {x:0, y:420, w:500, d:5}, {x:100, y:560, w:500, d:-5}];
  cvs.addEventListener("touchmove", (e)=>{ e.preventDefault(); const pos = getPos(e, cvs); jug.x = pos.x; jug.y = pos.y; });
  function loop(){
    if(!act) return;
    ctx.clearRect(0,0,600,700);
    ctx.fillStyle="#FF1493"; ctx.beginPath(); ctx.arc(550, 660, 30, 0, Math.PI*2); ctx.fill();
    ctx.fillStyle="#FF69B4";
    muros.forEach(m => {
      ctx.fillRect(m.x, m.y, m.w, 25); m.w += m.d; if(m.w > 560 || m.w < 120) m.d *= -1;
      if(jug.x > m.x && jug.x < m.x+m.w && jug.y > m.y && jug.y < m.y+25) { jug={x:30, y:30}; vds--; }
    });
    if(Math.random()<0.07) rayos.push({x:Math.random()*600, y:-20, v:10});
    rayos.forEach(r => { ctx.fillStyle="gold"; ctx.font="30px Arial"; ctx.fillText("‚ö°", r.x, r.y); r.y += r.v; if(Math.hypot(jug.x-r.x, jug.y-r.y)<30) { jug={x:30, y:30}; vds--; } });
    document.getElementById("vidasLab").innerText = "Vidas: " + "‚ù§Ô∏è".repeat(Math.max(0,vds));
    ctx.fillText("üíñ", jug.x-15, jug.y+15);
    if(vds<=0) { vds=3; jug={x:30,y:30}; }
    if(jug.x>510 && jug.y>620) { act=false; mostrar('juego6'); }
    else requestAnimationFrame(loop);
  }
  const ob = new MutationObserver(()=>{ if(document.getElementById("juego5").style.display==="block") { act=true; loop(); } });
  ob.observe(document.body, {attributes:true, subtree:true});
})();

// --- JUEGO 6: JARD√çN (TULIPANES + LLUVIA) ---
(function(){
  const cvs = document.getElementById("canvasJardin"), ctx = cvs.getContext("2d");
  let lluvia = [];
  function drawTulip(x, y, col) {
    ctx.strokeStyle="#458B00"; ctx.lineWidth=3; ctx.beginPath(); ctx.moveTo(x,y); ctx.lineTo(x,y+80); ctx.stroke();
    ctx.fillStyle=col;
    ctx.beginPath(); ctx.ellipse(x-12, y-15, 14, 24, -0.3, 0, Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.ellipse(x+12, y-15, 14, 24, 0.3, 0, Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.ellipse(x, y-22, 12, 28, 0, 0, Math.PI*2); ctx.fill();
    ctx.fillStyle="white"; ctx.font="12px Arial"; ctx.fillText("‚ú®", x-5, y-35);
  }
  function loop(){
    ctx.fillStyle="#90EE90"; ctx.fillRect(0, 450, 800, 150);
    ctx.fillStyle="#F0F8FF"; ctx.fillRect(0, 0, 800, 450);
    for(let i=0; i<25; i++) drawTulip(30+i*32, 470+(i%3)*12, ["#FF69B4","#FFB6C1","#DB7093"][i%3]);
    if(Math.random()<0.15) lluvia.push({x:Math.random()*800, y:-20, v:3, s:Math.random()*10+15});
    lluvia.forEach((f, idx) => { ctx.font=f.s+"px Arial"; ctx.fillText("üå∏", f.x, f.y); f.y+=f.v; if(f.y>650) lluvia.splice(idx,1); });
    requestAnimationFrame(loop);
  }
  const ob = new MutationObserver(()=>{ if(document.getElementById("juego6").style.display==="block") loop(); });
  ob.observe(document.body, {attributes:true, subtree:true});
})();

// --- JUEGO 7: TRIVIA (7 PREGUNTAS) ---
(function(){
  const t = [
    {p:"¬øCu√°l es el oc√©ano m√°s grande del mundo?", a:"Oc√©ano Pac√≠fico", o:["Atl√°ntico","√çndico","√Årtico"]},
    {p:"¬øCu√°ntos d√≠as tiene un a√±o bisiesto?", a:"366 d√≠as", o:["365","364","367"]},
    {p:"¬øEn qu√© pa√≠s se encuentra la Torre de Pisa?", a:"Italia", o:["Francia","Espa√±a","Grecia"]},
    {p:"¬øCu√°l es el planeta m√°s cercano al Sol?", a:"Mercurio", o:["Venus","Marte","Tierra"]},
    {p:"¬øQu√© instrumento mide la temperatura?", a:"Term√≥metro", o:["Bar√≥metro","Reloj","Br√∫jula"]},
    {p:"¬øCu√°l es la capital de Jap√≥n?", a:"Tokio", o:["Kioto","Osaka","Se√∫l"]},
    {p:"¬øCu√°l es el color primario que falta: Azul, Rojo y...?", a:"Amarillo", o:["Verde","Blanco","Morado"]}
  ];
  let i = 0;
  window.checkT = (a)=>{ if(a===t[i].a){ i++; rdr(); } else { alert("¬°Nop! Intenta otra vez ‚ú®"); } };
  function rdr(){
    if(i>=t.length){ document.getElementById("juego7").innerHTML = `<div class='card'><h2>‚ú® ¬°Esa es mi ni√±a! ‚ú®</h2><button class='btn btn-primario' onclick="mostrar('juego8')">Siguiente</button></div>`; return; }
    document.getElementById("pregT").innerText = t[i].p;
    const opts = [...t[i].o, t[i].a].sort(()=>Math.random()-0.5);
    document.getElementById("optsT").innerHTML = opts.map(o=>`<button class='btn' style='background:white; border:1px solid #ddd; width:100%;' onclick="checkT('${o}')">${o}</button>`).join("");
  }
  rdr();
})();

// --- JUEGO 8: MICROFONO (5 CANCIONES) ---
(function(){
  const l = [
    {t:"Cris MJ - Gata Only", f:"Mami, no me digas que no, si yo s√©...", a:"que t√∫ est√°s puesta para m√≠", o:["que me quieres ver","que te vas conmigo"]},
    {t:"Ariana Grande - 34+35", f:"Can you stay up all night? Fuck me...", a:"'til the daylight", o:["all the time","one more time"]},
    {t:"Bad Bunny - Tit√≠ Me Pregunt√≥", f:"Tit√≠ me pregunt√≥ si tengo...", a:"muchas novias", o:["una novia","un secreto"]},
    {t:"Ariana Grande - The Boy Is Mine", f:"Please separate it, boy, i'm...", a:"reading your mind", o:["doing just fine","losing my head"]},
    {t:"Cuco - Lo Que Siento", f:"Solo a ti te quiero, solo a ti...", a:"te amo", o:["te extra√±o","te sue√±o"]}
  ];
  let i = 0;
  window.checkL = (a)=>{ if(a===l[i].a){ i++; rdr(); } };
  function rdr(){
    if(i>=l.length){ mostrar('juego9'); return; }
    document.getElementById("titL").innerText = l[i].t;
    document.getElementById("fraseL").innerText = l[i].f;
    const opts = [...l[i].o, l[i].a].sort(()=>Math.random()-0.5);
    document.getElementById("optsL").innerHTML = opts.map(o=>`<button class='btn' style='background:#eee; width:100%; display:block;' onclick="checkL('${o}')">${o}</button>`).join("");
  }
  rdr();
})();

// --- JUEGO 9: ADIVINA ARTISTA (4 RETOS) ---
(function(){
  const art = [{e:"üëÅÔ∏è üê∞ üèéÔ∏è", c:"bad bunny"}, {e:"üåô üë±üèª‚Äç‚ôÄÔ∏è üé§", c:"ariana grande"}, {e:"üê± üá®üá± üí∞", c:"cris mj"}, {e:"‚òÄÔ∏è üá≤üáΩ üéôÔ∏è", c:"luis miguel"}];
  let i = 0;
  window.checkA = () => {
    if(document.getElementById("inA").value.toLowerCase().includes(art[i].c)) { i++; rdr(); }
    else alert("¬°Casi! Prueba de nuevo.");
  };
  function rdr(){
    if(i>=art.length){ mostrar('juego10'); return; }
    document.getElementById("emojiA").innerText = art[i].e; document.getElementById("inA").value="";
  }
  rdr();
})();

// --- FINAL Y CARTA ---
(function(){
  const cvs = document.getElementById("canvasFuegos"), ctx = cvs.getContext("2d");
  let p = [];
  function anim(){
    ctx.fillStyle="rgba(0,0,20,0.2)"; ctx.fillRect(0,0,800,500);
    if(Math.random()<0.12){
      let x=Math.random()*800, y=Math.random()*200, col="hsl("+Math.random()*360+",100%,50%)";
      for(let i=0; i<50; i++) p.push({x,y,vx:Math.random()*6-3, vy:Math.random()*6-3, l:80, c:col});
    }
    p.forEach((it,idx)=>{ ctx.fillStyle=it.c; ctx.fillRect(it.x,it.y,3,3); it.x+=it.vx; it.y+=it.vy; it.vy+=0.05; it.l--; if(it.l<=0) p.splice(idx,1); });
    requestAnimationFrame(anim);
  }
  const ob = new MutationObserver(()=>{ if(document.getElementById("juego10").style.display==="block") anim(); });
  ob.observe(document.body, {attributes:true, subtree:true});

  const cvsC = document.getElementById("canvasCarta"), ctxC = cvsC.getContext("2d");
  let h = [];
  function animC(){
    ctxC.clearRect(0,0,cvsC.width,cvsC.height);
    if(Math.random()<0.15) h.push({x:Math.random()*cvsC.width, y:cvsC.height+20, v:Math.random()*2+1, s:Math.random()*25+15});
    h.forEach((it,idx)=>{ ctxC.font=it.s+"px Arial"; ctxC.fillText("üíó", it.x, it.y); it.y-=it.v; if(it.y<-35) h.splice(idx,1); });
    requestAnimationFrame(animC);
  }
  const obC = new MutationObserver(()=>{ if(document.getElementById("cartaFinal").style.display==="block"){ cvsC.width=window.innerWidth; cvsC.height=window.innerHeight; animC(); } });
  obC.observe(document.body, {attributes:true, subtree:true});
})();
</script>
</body>
</html>
